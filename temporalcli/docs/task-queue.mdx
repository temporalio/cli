---
id: task-queue
title: temporal task-queue
sidebar_label: temporal task-queue
description: Temporal Task Queue commands facilitate operations like describing poller info, displaying partitions, fetching compatible Build IDs, and determining Build ID reachability for effective Workflow and Activity management. 
toc_max_heading_level: 4
keywords:
  - cli reference
  - command-line-interface-cli
  - list partitions
  - task queue
  - task queue describe
  - temporal cli
tags:
  - cli-reference
  - command-line-interface-cli
  - list-partitions
  - task-queue
  - task-queue-describe
  - temporal-cli
---

## describe

Display a list of active Workers that have recently polled a Task Queue. The
Temporal Server records each poll request time. A `LastAccessTime` over one
minute may indicate the Worker is at capacity or has shut down. Temporal
Workers are removed if 5 minutes have passed since the last poll request.

```
temporal task-queue describe \
  --task-queue YourTaskQueue
```

This command provides poller information for a given Task Queue.
Workflow and Activity polling use separate Task Queues:

```
temporal task-queue describe \
    --task-queue YourTaskQueue \
    --task-queue-type "activity"
```

This command provides the following task queue statistics:
- `ApproximateBacklogCount`: The approximate number of tasks backlogged in this
  task queue. May count expired tasks but eventually converges to the right
  value.
- `ApproximateBacklogAge`: Approximate age of the oldest task in the backlog,
  based on its creation time, measured in seconds.
- `TasksAddRate`: Approximate rate at which tasks are being added to the task
  queue, measured in tasks per second, averaged over the last 30 seconds.
  Includes tasks dispatched immediately without going to the backlog
  (sync-matched tasks), as well as tasks added to the backlog. (See note below.)
- `TasksDispatchRate`: Approximate rate at which tasks are being dispatched from
  the task queue, measured in tasks per second, averaged over the last 30
  seconds.  Includes tasks dispatched immediately without going to the backlog
  (sync-matched tasks), as well as tasks added to the backlog. (See note below.)
- `Backlog Increase Rate`: Approximate rate at which the backlog size is
  increasing (if positive) or decreasing (if negative), measured in tasks per
  second, averaged over the last 30 seconds.  This is equivalent to:
  `TasksAddRate` - `TasksDispatchRate`.

NOTE: The `TasksAddRate` and `TasksDispatchRate` metrics may differ from the
actual rate of add/dispatch, because tasks may be dispatched eagerly to an
available worker, or may apply only to specific workers (they are "sticky").
Such tasks are not counted by these metrics.

Safely retire Workers assigned a Build ID by checking reachability across
all task types. Use the flag `--report-reachability`:

```
temporal task-queue describe \
    --task-queue YourTaskQueue \
    --build-id "YourBuildId" \
    --report-reachability
```

Task reachability information is returned for the requested versions and all
task types, which can be used to safely retire Workers with old code versions,
provided that they were assigned a Build ID.

Note that task reachability status is experimental and may significantly change
or be removed in a future release. Also, determining task reachability incurs a
non-trivial computing cost.

Task reachability states are reported per build ID. The state may be one of the
following:

- `Reachable`: using the current versioning rules, the Build ID may be used
  by new Workflow Executions or Activities OR there are currently open
  Workflow or backlogged Activity tasks assigned to the queue.
- `ClosedWorkflowsOnly`: the Build ID does not have open Workflow Executions
  and can't be reached by new Workflow Executions. It MAY have closed
  Workflow Executions within the Namespace retention period.
- `Unreachable`: this Build ID is not used for new Workflow Executions and
  isn't used by any existing Workflow Execution within the retention period.

Task reachability is eventually consistent. You may experience a delay until
reachability converges to the most accurate value. This is designed to act
in the most conservative way until convergence. For example, `Reachable` is
more conservative than `ClosedWorkflowsOnly`.

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--disable-stats](cli/cmd-options#disable-stats)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--legacy-mode](cli/cmd-options#legacy-mode)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--partitions-legacy](cli/cmd-options#partitions-legacy)

- [--report-reachability](cli/cmd-options#report-reachability)

- [--select-all-active](cli/cmd-options#select-all-active)

- [--select-build-id](cli/cmd-options#select-build-id)

- [--select-unversioned](cli/cmd-options#select-unversioned)

- [--task-queue](cli/cmd-options#task-queue)

- [--task-queue-type](cli/cmd-options#task-queue-type)

- [--task-queue-type-legacy](cli/cmd-options#task-queue-type-legacy)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## get-build-id-reachability

+-----------------------------------------------------------------------------+
| CAUTION: This command is deprecated and will be removed in a later release. |
+-----------------------------------------------------------------------------+

Show if a given Build ID can be used for new, existing, or closed Workflows
in Namespaces that support Worker versioning:

```
temporal task-queue get-build-id-reachability \
    --task-queue YourTaskQueue \
    --build-id "YourBuildId"
```

You can specify the `--build-id` and `--task-queue` flags multiple times. If
`--task-queue` is omitted, the command checks Build ID reachability against
all Task Queues.

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--build-id](cli/cmd-options#build-id)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--reachability-type](cli/cmd-options#reachability-type)

- [--task-queue](cli/cmd-options#task-queue)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## get-build-ids

+-----------------------------------------------------------------------------+
| CAUTION: This command is deprecated and will be removed in a later release. |
+-----------------------------------------------------------------------------+

Fetch sets of compatible Build IDs for specified Task Queues and display their
information:

```
temporal task-queue get-build-ids \
    --task-queue YourTaskQueue
```

This command is limited to Namespaces that support Worker versioning.

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--max-sets](cli/cmd-options#max-sets)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--task-queue](cli/cmd-options#task-queue)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## list-partition

Display a Task Queue's partition list with assigned matching nodes:

```
temporal task-queue list-partition \
    --task-queue YourTaskQueue
```

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--task-queue](cli/cmd-options#task-queue)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## update-build-ids

+-----------------------------------------------------------------------------+
| CAUTION: This command is deprecated and will be removed in a later release. |
+-----------------------------------------------------------------------------+

Add or change a Task Queue's compatible Build IDs for Namespaces using Worker
versioning:

```
temporal task-queue update-build-ids [subcommands] [options] \
    --task-queue YourTaskQueue
```

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## update-build-idsadd-new-compatible

Add a compatible Build ID to a Task Queue's existing version set. Provide an
existing Build ID and a new Build ID:

```
temporal task-queue update-build-ids add-new-compatible \
    --task-queue YourTaskQueue \
    --existing-compatible-build-id "YourExistingBuildId" \
    --build-id "YourNewBuildId"
```

The new ID is stored in the set containing the existing ID and becomes the new
default for that set.

This command is limited to Namespaces that support Worker versioning.

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--build-id](cli/cmd-options#build-id)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--existing-compatible-build-id](cli/cmd-options#existing-compatible-build-id)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--set-as-default](cli/cmd-options#set-as-default)

- [--task-queue](cli/cmd-options#task-queue)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## update-build-idsadd-new-default

+-----------------------------------------------------------------------------+
| CAUTION: This command is deprecated and will be removed in a later release. |
+-----------------------------------------------------------------------------+

Create a new Task Queue Build ID set, add a Build ID to it, and make it the
overall Task Queue default. The new set will be incompatible with previous
sets and versions.

```
temporal task-queue update-build-ids add-new-default \
    --task-queue YourTaskQueue \
    --build-id "YourNewBuildId"
```

+------------------------------------------------------------------------+
| NOTICE: This command is limited to Namespaces that support Worker      |
| versioning. Worker versioning is experimental. Versioning commands are |
| subject to change.                                                     |
+------------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--build-id](cli/cmd-options#build-id)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--task-queue](cli/cmd-options#task-queue)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## update-build-idspromote-id-in-set

+-----------------------------------------------------------------------------+
| CAUTION: This command is deprecated and will be removed in a later release. |
+-----------------------------------------------------------------------------+

Establish an existing Build ID as the default in its Task Queue set. New tasks
compatible with this set will now be dispatched to this ID:

```
temporal task-queue update-build-ids promote-id-in-set \
    --task-queue YourTaskQueue \
    --build-id "YourBuildId"
```

+------------------------------------------------------------------------+
| NOTICE: This command is limited to Namespaces that support Worker      |
| versioning. Worker versioning is experimental. Versioning commands are |
| subject to change.                                                     |
+------------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--build-id](cli/cmd-options#build-id)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--task-queue](cli/cmd-options#task-queue)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## update-build-idspromote-set

+-----------------------------------------------------------------------------+
| CAUTION: This command is deprecated and will be removed in a later release. |
+-----------------------------------------------------------------------------+

Promote a Build ID set to be the default on a Task Queue. Identify the set by
providing a Build ID within it. If the set is already the default, this
command has no effect:

```
temporal task-queue update-build-ids promote-set \
    --task-queue YourTaskQueue \
    --build-id "YourBuildId"
```

+------------------------------------------------------------------------+
| NOTICE: This command is limited to Namespaces that support Worker      |
| versioning. Worker versioning is experimental. Versioning commands are |
| subject to change.                                                     |
+------------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--build-id](cli/cmd-options#build-id)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--task-queue](cli/cmd-options#task-queue)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## versioning

+---------------------------------------------------------------------+
| CAUTION: Worker versioning is experimental. Versioning commands are |
| subject to change.                                                  |
+---------------------------------------------------------------------+

Provides commands to add, list, remove, or replace Worker Build ID assignment
and redirect rules associated with Task Queues:

```
temporal task-queue versioning [subcommands] [options] \
    --task-queue YourTaskQueue
```

Task Queues support the following versioning rules and policies:

- Assignment Rules: manage how new executions are assigned to run on specific
  Worker Build IDs. Each Task Queue stores a list of ordered Assignment Rules,
  which are evaluated from first to last. Assignment Rules also allow for
  gradual rollout of new Build IDs by setting ramp percentage.
- Redirect Rules: automatically assign work for a source Build ID to a target
  Build ID. You may add at most one redirect rule for each source Build ID.
  Redirect rules require that a target Build ID is fully compatible with
  the source Build ID.

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--task-queue](cli/cmd-options#task-queue)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## versioningadd-redirect-rule

Add a new redirect rule for a given Task Queue. You may add at most one
redirect rule for each distinct source build ID:

```
temporal task-queue versioning add-redirect-rule \
    --task-queue YourTaskQueue \
    --source-build-id "YourSourceBuildID" \
    --target-build-id "YourTargetBuildID"
```

+---------------------------------------------------------------------+
| CAUTION: Worker versioning is experimental. Versioning commands are |
| subject to change.                                                  |
+---------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--source-build-id](cli/cmd-options#source-build-id)

- [--target-build-id](cli/cmd-options#target-build-id)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

- [--yes](cli/cmd-options#yes)

## versioningcommit-build-id

Complete a Build ID's rollout and clean up unnecessary rules that might have
been created during a gradual rollout:

```
temporal task-queue versioning commit-build-id \
    --task-queue YourTaskQueue
    --build-id "YourBuildId"
```

This command automatically applies the following atomic changes:

- Adds an unconditional assignment rule for the target Build ID at the
  end of the list.
- Removes all previously added assignment rules to the given target
  Build ID.
- Removes any unconditional assignment rules for other Build IDs.

Rejects requests when there have been no recent pollers for this Build ID.
This prevents committing invalid Build IDs. Use the `--force` option to
override this validation.

+---------------------------------------------------------------------+
| CAUTION: Worker versioning is experimental. Versioning commands are |
| subject to change.                                                  |
+---------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--build-id](cli/cmd-options#build-id)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--force](cli/cmd-options#force)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

- [--yes](cli/cmd-options#yes)

## versioningdelete-assignment-rule

Deletes a rule identified by its index in the Task Queue's list of assignment
rules.

```
temporal task-queue versioning delete-assignment-rule \
    --task-queue YourTaskQueue \
    --rule-index YourIntegerRuleIndex
```

By default, the Task Queue must retain one unconditional rule, such as "no
hint filter" or "percentage". Otherwise, the delete operation is rejected.
Use the `--force` option to override this validation.

+---------------------------------------------------------------------+
| CAUTION: Worker versioning is experimental. Versioning commands are |
| subject to change.                                                  |
+---------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--force](cli/cmd-options#force)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--rule-index](cli/cmd-options#rule-index)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

- [--yes](cli/cmd-options#yes)

## versioningdelete-redirect-rule

Deletes the routing rule for the given source Build ID.

```
temporal task-queue versioning delete-redirect-rule \
    --task-queue YourTaskQueue \
    --source-build-id "YourBuildId"
```

+---------------------------------------------------------------------+
| CAUTION: Worker versioning is experimental. Versioning commands are |
| subject to change.                                                  |
+---------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--source-build-id](cli/cmd-options#source-build-id)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

- [--yes](cli/cmd-options#yes)

## versioningget-rules

Retrieve all the Worker Build ID assignments and redirect rules associated
with a Task Queue:

```
temporal task-queue versioning get-rules \
    --task-queue YourTaskQueue
```

Task Queues support the following versioning rules:

- Assignment Rules: manage how new executions are assigned to run on specific
  Worker Build IDs. Each Task Queue stores a list of ordered Assignment Rules,
  which are evaluated from first to last. Assignment Rules also allow for
  gradual rollout of new Build IDs by setting ramp percentage.
- Redirect Rules: automatically assign work for a source Build ID to a target
  Build ID. You may add at most one redirect rule for each source Build ID.
  Redirect rules require that a target Build ID is fully compatible with
  the source Build ID.

+---------------------------------------------------------------------+
| CAUTION: Worker versioning is experimental. Versioning commands are |
| subject to change.                                                  |
+---------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

## versioninginsert-assignment-rule

Inserts a new assignment rule for this Task Queue. Rules are evaluated in
order, starting from index 0. The first applicable rule is applied, and the
rest ignored:

```
temporal task-queue versioning insert-assignment-rule \
    --task-queue YourTaskQueue \
    --build-id "YourBuildId"
```

If you do not specify a `--rule-index`, this command inserts at index 0.

+---------------------------------------------------------------------+
| CAUTION: Worker versioning is experimental. Versioning commands are |
| subject to change.                                                  |
+---------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--build-id](cli/cmd-options#build-id)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--percentage](cli/cmd-options#percentage)

- [--rule-index](cli/cmd-options#rule-index)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

- [--yes](cli/cmd-options#yes)

## versioningreplace-assignment-rule

Change an assignment rule for this Task Queue. By default, this enforces one
unconditional rule (no hint filter or percentage). Otherwise, the operation
will be rejected. Set `force` to true to bypass this validation.

```
temporal task-queue versioning replace-assignment-rule \
    --task-queue YourTaskQueue \
    --rule-index AnIntegerIndex \
    --build-id "YourBuildId"
```

To assign multiple assignment rules to a single Build ID, use
'insert-assignment-rule'.

To update the percent:

```
temporal task-queue versioning replace-assignment-rule \
    --task-queue YourTaskQueue \
    --rule-index AnIntegerIndex \
    --build-id "YourBuildId" \
    --percentage AnIntegerPercent
```

Percent may vary between 0 and 100 (default).

+---------------------------------------------------------------------+
| CAUTION: Worker versioning is experimental. Versioning commands are |
| subject to change.                                                  |
+---------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--build-id](cli/cmd-options#build-id)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--force](cli/cmd-options#force)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--percentage](cli/cmd-options#percentage)

- [--rule-index](cli/cmd-options#rule-index)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

- [--yes](cli/cmd-options#yes)

## versioningreplace-redirect-rule

Updates a Build ID's redirect rule on a Task Queue by replacing its target
Build ID:

```
temporal task-queue versioning replace-redirect-rule \
    --task-queue YourTaskQueue \
    --source-build-id YourSourceBuildId \
    --target-build-id YourNewTargetBuildId
```

+---------------------------------------------------------------------+
| CAUTION: Worker versioning is experimental. Versioning commands are |
| subject to change.                                                  |
+---------------------------------------------------------------------+

Use the following options to change the behavior of this command.

- [--address](cli/cmd-options#address)

- [--api-key](cli/cmd-options#api-key)

- [--codec-auth](cli/cmd-options#codec-auth)

- [--codec-endpoint](cli/cmd-options#codec-endpoint)

- [--color](cli/cmd-options#color)

- [--env](cli/cmd-options#env)

- [--env-file](cli/cmd-options#env-file)

- [--grpc-meta](cli/cmd-options#grpc-meta)

- [--log-format](cli/cmd-options#log-format)

- [--log-level](cli/cmd-options#log-level)

- [--namespace](cli/cmd-options#namespace)

- [--no-json-shorthand-payloads](cli/cmd-options#no-json-shorthand-payloads)

- [--output](cli/cmd-options#output)

- [--source-build-id](cli/cmd-options#source-build-id)

- [--target-build-id](cli/cmd-options#target-build-id)

- [--time-format](cli/cmd-options#time-format)

- [--tls](cli/cmd-options#tls)

- [--tls-ca-data](cli/cmd-options#tls-ca-data)

- [--tls-ca-path](cli/cmd-options#tls-ca-path)

- [--tls-cert-data](cli/cmd-options#tls-cert-data)

- [--tls-cert-path](cli/cmd-options#tls-cert-path)

- [--tls-disable-host-verification](cli/cmd-options#tls-disable-host-verification)

- [--tls-key-data](cli/cmd-options#tls-key-data)

- [--tls-key-path](cli/cmd-options#tls-key-path)

- [--tls-server-name](cli/cmd-options#tls-server-name)

- [--yes](cli/cmd-options#yes)

